"use strict";(self["webpackChunkvue01"]=self["webpackChunkvue01"]||[]).push([[493],{23397:function(e,t,s){s.d(t,{aD:function(){return i},AY:function(){return o},$i:function(){return c}});var a=s(94373),r=s(89143);const l=a.A.create({baseURL:"https://your-api-domain.com/api",timeout:3e4,headers:{"Content-Type":"application/json;charset=UTF-8"}});l.interceptors.request.use(e=>e,e=>(console.error("Request Error:",e),Promise.reject(e))),l.interceptors.response.use(e=>{const t=e.data;return!1===t.success?((0,r.Message)({message:t.error||t.detail||"Request Failed",type:"error",duration:3e3}),Promise.reject(new Error(t.error||t.detail||"Request Failed"))):t},e=>{console.error("响应错误:",e);let t="网络错误";if(e.response)switch(e.response.status){case 400:t="请求参数错误";break;case 401:t="未授权，请重新登录";break;case 403:t="拒绝访问";break;case 404:t="请求的资源不存在";break;case 500:t="服务器内部错误";break;case 502:t="网关错误";break;case 503:t="服务不可用";break;default:t=`连接错误 ${e.response.status}`}else e.message.includes("timeout")?t="请求超时":e.message.includes("Network Error")&&(t="网络连接失败");return(0,r.Message)({message:t,type:"error",duration:3e3}),Promise.reject(e)});var n=l;const i={getTradeTension(){return n({url:"/tension/distribution",method:"get"})},getTradeTensionList(e){return n({url:"/tension/details",method:"get",params:e})},getTradeTensionTrend(){return n({url:"/tension/trend",method:"get"})}},o={fetchNews(e){return n({url:"/news/trade",method:"get",params:e})},fetchAllNews(e){return n({url:"/news/fetch-all",method:"post",params:e})},getQueryHistory(){return n({url:"/news/query-history",method:"get"})},getArticlesList(e){return n({url:"/articles/list",method:"get",params:e})},getArticleDetail(e){return n({url:`/articles/${e}`,method:"get"})}},c={analyzeByUrl(e){return n({url:"/nlp/analyze",method:"post",data:e})},analyzeByText(e){return n({url:"/nlp/analyze",method:"post",data:e})},analyzeByUuid(e){return o.getArticleDetail(e)}}},40493:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"nlp-analyzer-page"},[t("el-card",{staticClass:"input-card",attrs:{shadow:"never"}},[t("div",{staticClass:"card-header-content",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"card-title"},[t("i",{staticClass:"el-icon-document"}),e._v(" Content Input ")])]),t("el-tabs",{on:{"tab-click":e.handleTabChange},model:{value:e.inputType,callback:function(t){e.inputType=t},expression:"inputType"}},[t("el-tab-pane",{attrs:{label:"URL Input",name:"url"}},[t("el-form",{ref:"urlForm",attrs:{model:e.urlFormData,rules:e.urlRules}},[t("el-form-item",{attrs:{label:"News URL",prop:"url"}},[t("el-input",{attrs:{placeholder:"Please enter news URL",clearable:""},model:{value:e.urlFormData.url,callback:function(t){e.$set(e.urlFormData,"url",t)},expression:"urlFormData.url"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search",loading:e.analyzing},on:{click:e.handleAnalyzeUrl},slot:"append"},[e._v(" Analyze ")])],1)],1)],1)],1),t("el-tab-pane",{attrs:{label:"Text Input",name:"text"}},[t("el-form",{ref:"textForm",attrs:{model:e.textFormData,rules:e.textRules}},[t("el-form-item",{attrs:{label:"Article Content",prop:"content"}},[t("el-input",{attrs:{type:"textarea",rows:10,placeholder:"Please paste article content...","show-word-limit":"",maxlength:1e4},model:{value:e.textFormData.content,callback:function(t){e.$set(e.textFormData,"content",t)},expression:"textFormData.content"}})],1),t("el-form-item",[t("div",{staticClass:"word-count"},[t("span",[e._v("Word Count: "+e._s(e.textFormData.content.length)+" / 10000")])])]),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.analyzing},on:{click:e.handleAnalyzeText}},[t("i",{staticClass:"el-icon-s-data"}),e._v(" Start Analysis ")]),t("el-button",{on:{click:e.handleClearText}},[e._v("Clear Content")])],1)],1)],1)],1)],1),e.showResult?t("el-card",{staticClass:"result-card",attrs:{shadow:"never"}},[t("div",{staticClass:"card-header-content",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"card-title"},[t("i",{staticClass:"el-icon-data-analysis"}),e._v(" Analysis Result ")]),t("el-button",{attrs:{type:"text",icon:"el-icon-download"},on:{click:e.handleExportResult}},[e._v(" Export Result ")])],1),e.analyzing?t("div",{staticClass:"analyzing-container"},[t("div",{staticClass:"analyzing-icon"},[t("i",{staticClass:"el-icon-loading"})]),t("p",{staticClass:"analyzing-text"},[e._v("AI is analyzing, please wait...")]),t("el-progress",{attrs:{percentage:e.analyzeProgress,status:100===e.analyzeProgress?"success":null}})],1):t("div",{staticClass:"result-content"},[t("div",{staticClass:"sentiment-section"},[t("h3",{staticClass:"section-title"},[t("i",{staticClass:"el-icon-s-opportunity"}),e._v(" Tension Analysis ")]),t("div",{staticClass:"sentiment-result"},[t("div",{staticClass:"sentiment-label"},[t("span",{staticClass:"label-text"},[e._v("Overall Tension Score:")]),t("span",{staticClass:"score-value",class:e.getScoreClass(e.result.sentiment.score)},[e._v(" "+e._s(void 0!==e.result.sentiment.score?e.result.sentiment.score.toFixed(4):"N/A")+" ")]),t("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:e.getSentimentTagType(e.result.sentiment.type),size:"large",effect:"dark"}},[e._v(" "+e._s(e.result.sentiment.label)+" ")])],1),t("div",{staticClass:"score-explanation"},[t("small",[e._v("Score Range: -1 (Mild/Cooperative) to 1 (Intense/Conflict)")])])])]),t("div",{staticClass:"summary-section"},[t("h3",{staticClass:"section-title"},[t("i",{staticClass:"el-icon-s-order"}),e._v(" Sentence Analysis Details ")]),t("ul",{staticClass:"summary-list"},e._l(e.result.paragraphs,function(s,a){return t("li",{key:a,staticClass:"summary-item",staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"15px"}},[t("div",{staticStyle:{flex:"1","padding-right":"20px"}},[t("span",{staticClass:"bullet-point"},[e._v(e._s(a+1))]),t("span",{staticClass:"point-content"},[e._v(e._s(s.text))])]),t("div",{staticClass:"score-tag",staticStyle:{"min-width":"80px","text-align":"right"}},[t("el-tag",{attrs:{type:e.getScoreType(s.avg_intensity),size:"small"}},[e._v(" "+e._s(s.avg_intensity.toFixed(4))+" ")])],1)])}),0)])])]):e._e()],1)},r=[],l=s(23397),n={name:"NlpAnalyzer",data(){return{inputType:"url",urlFormData:{url:""},textFormData:{content:""},urlRules:{url:[{required:!0,message:"Please enter URL",trigger:"blur"},{type:"url",message:"Please enter valid URL format",trigger:"blur"}]},textRules:{content:[{required:!0,message:"Please enter article content",trigger:"blur"},{min:50,message:"Content must be at least 50 characters",trigger:"blur"}]},analyzing:!1,analyzeProgress:0,showResult:!1,result:{sentiment:{type:"positive",label:"Positive",positive:75,neutral:20,negative:5},summary:[],keywords:[]}}},mounted(){this.$route.query.url&&(this.inputType="url",this.urlFormData.url=this.$route.query.url,this.$nextTick(()=>{this.handleAnalyzeUrl()}))},methods:{handleTabChange(){this.showResult=!1},async handleAnalyzeUrl(){this.$refs.urlForm.validate(async e=>{if(!e)return;this.analyzing=!0,this.showResult=!0,this.analyzeProgress=0;const t=setInterval(()=>{this.analyzeProgress<90&&(this.analyzeProgress+=15)},300);try{const e=await l.$i.analyzeByUrl({url:this.urlFormData.url});clearInterval(t),this.analyzeProgress=100;const s=void 0!==e.overall_score?e.overall_score:0;let a="neutral",r="Neutral";s>.3?(a="negative",r="Intense"):s<-.3&&(a="positive",r="Mild"),this.result={sentiment:{type:a,label:r,score:s},paragraphs:e.paragraph_analysis||[],keywords:[]},setTimeout(()=>{this.analyzing=!1,this.$message.success("Analysis completed")},500)}catch(s){clearInterval(t),this.analyzing=!1,this.$message.error("Analysis failed, please try again"),console.error("Analysis failed:",s)}})},async handleAnalyzeText(){this.$refs.textForm.validate(async e=>{if(!e)return;this.analyzing=!0,this.showResult=!0,this.analyzeProgress=0;const t=setInterval(()=>{this.analyzeProgress<90&&(this.analyzeProgress+=15)},300);try{const e=await l.$i.analyzeByText({full_text:this.textFormData.content});clearInterval(t),this.analyzeProgress=100;const s=void 0!==e.overall_score?e.overall_score:0;let a="neutral",r="Neutral";s>.3?(a="negative",r="Intense"):s<-.3&&(a="positive",r="Mild"),this.result={sentiment:{type:a,label:r,score:s},paragraphs:e.paragraph_analysis||[],keywords:[]},setTimeout(()=>{this.analyzing=!1,this.$message.success("Analysis completed")},500)}catch(s){clearInterval(t),this.analyzing=!1,this.$message.error("Analysis failed, please try again"),console.error("Analysis failed:",s)}})},handleClearText(){this.textFormData.content="",this.showResult=!1},handleExportResult(){this.$message.info("Export feature under development...")},getSentimentTagType(e){const t={positive:"success",neutral:"info",negative:"danger"};return t[e]||"info"},getScoreType(e){return e>.3?"danger":e<-.3?"success":"info"},getScoreClass(e){return e>.3?"text-danger":e<-.3?"text-success":"text-info"}}},i=n,o=s(81656),c=(0,o.A)(i,a,r,!1,null,"f56cb100",null),u=c.exports}}]);
//# sourceMappingURL=493.52f900a3.js.map